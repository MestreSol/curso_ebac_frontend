function loadContacts(){var e=JSON.parse(localStorage.getItem("contacts"));e&&e.forEach(e=>{addContact(e)})}function addContact(e){var t=document.getElementById("contactList"),a=document.createElement("div");a.classList.add("card"),a.id="contato-"+e.id,a.innerHTML=`
                                    <div class="card-header">
                                        <img src="${e.image}" alt="contact image">
                                    </div>
                                    <div class="card-body">
                                        <h2>${e.contactName}</h2>
                                        <p>Tel.:${e.telefone}</p>
                                        <p>E-mail:${e.email}</p>
                                        <p>Endereco: ${e.endereco}</p>
                                    </div>
                                    <div class="card-footer">
                                        <button onclick="return  OpenModal_Editar()" disabled>Editar</button>
                                        <button  onclick="return  removeContact('contato-${e.id}')">Excluir</button>
                                    </div>
                                `,t.appendChild(a)}function removeContact(t){var e=JSON.parse(localStorage.getItem("contacts")),e=(t=t.split("-")[1],e.filter(e=>e.id!=t));localStorage.setItem("contacts",JSON.stringify(e)),console.log(e),window.location.reload()}window.onload=function(){loadContacts()},document.getElementById("contactForm").addEventListener("submit",function(t){t.preventDefault();var t=document.getElementById("contactName").value,a=document.getElementById("telefone").value,o=document.getElementById("email").value,n=document.getElementById("endereco").value,c=document.getElementById("image").value,l=(new Date).getTime(),d=JSON.parse(localStorage.getItem("loginData")).email;if(""==t.value||""==a.value||""==o.value||""==n.value||""==c.value)alert("Preencha todos os campos");else if(t.length<3)alert("Nome do contato deve ter no mínimo 3 caracteres");else if(a.length<8)alert("Telefone do contato deve ter no mínimo 8 caracteres");else if(o.length<3)alert("Email do contato deve ter no mínimo 3 caracteres");else if(n.length<3)alert("Endereço do contato deve ter no mínimo 3 caracteres");else if(c.length<3)alert("Imagem do contato deve ter no mínimo 3 caracteres");else if(-1==c.indexOf("http"))alert("Imagem do contato deve ser uma URL válida");else if(-1==o.indexOf("@")||-1==o.indexOf("."))alert("Email do contato deve ser um email válido");else if(/^\d+$/.test(a)){t={contactName:t,telefone:a,email:o,endereco:n,image:c,id:l,userOwner:d};let e=JSON.parse(localStorage.getItem("contacts"));e?e.push(t):e=[t],localStorage.setItem("contacts",JSON.stringify(e)),addContact(t),document.getElementById("contactForm").reset()}else alert("Telefone do contato deve conter apenas números")});